<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Works-rsses on Isulew&#39;s Blog</title>
    <link>https://netcookies.github.io/b/works/index.xml</link>
    <description>Recent content in Works-rsses on Isulew&#39;s Blog</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Sun, 08 Mar 2015 22:40:00 +0800</lastBuildDate>
    <atom:link href="https://netcookies.github.io/b/works/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>CSS基础Q&amp;A</title>
      <link>https://netcookies.github.io/b/works/2015-03-08/</link>
      <pubDate>Sun, 08 Mar 2015 22:40:00 +0800</pubDate>
      
      <guid>https://netcookies.github.io/b/works/2015-03-08/</guid>
      <description>&lt;p&gt;1.有如下三个div,B与C都是&lt;code&gt;float: left&lt;/code&gt;,B与C分别高50px，100px。此时A高度为多少？为什么？&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;此时A高度为0，因为B与C不在document flow中&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;img src=&#34;~/22-53-51.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;2.如何避免上图中的情况？&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-css&#34;&gt;a:after{
	clear: both;
	content: &amp;quot;.&amp;quot;;
	display: block;
	font-size: 0;
	height: 0;
	line-height: 0;
	visibility: hidden;
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;3.若在加了clear的情况下，A的高度为50PX。此时有一&lt;code&gt;div class=&amp;quot;H&amp;quot;&lt;/code&gt;在A下方，且&lt;code&gt;magin-top: 50px&lt;/code&gt;，会出现什么情况？100px、120px时出现什么情况？ 为什么？&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;50px与100px时，H与C上下边贴在一起; 120px时，H与C距离20px。因为A的高度取决于content的高。&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;4.table A有四个并排的&lt;code&gt;td.column&lt;/code&gt;，假设一列中有长短不一各种值，width设多少可以刚好容下所有内容？&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;&lt;code&gt;width: 1px&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;5.若一列td中有值 &lt;code&gt;a b c d&lt;/code&gt;&lt;code&gt;f&lt;/code&gt;&lt;code&gt;g&lt;/code&gt;，则此时会出现何种情况？如何避免此情况发生？&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;此时&lt;code&gt;a b c d&lt;/code&gt;，遇到空格会换行。应加上&lt;code&gt;word-space: nowrap&lt;/code&gt;。&lt;sup class=&#34;footnote-ref&#34; id=&#34;fnref:1&#34;&gt;&lt;a rel=&#34;footnote&#34; href=&#34;#fn:1&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;6.&lt;code&gt;by someone posted on Monday&lt;/code&gt;html应该如何写？&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-html&#34;&gt;&amp;lt;span class=&amp;quot;&amp;quot;&amp;gt;by&amp;lt;span class=&amp;quot;author&amp;quot;&amp;gt;someone&amp;lt;/span&amp;gt;posted on&amp;lt;span class=&amp;quot;date&amp;quot;&amp;gt;Monday&amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;sup class=&#34;footnote-ref&#34; id=&#34;fnref:2&#34;&gt;&lt;a rel=&#34;footnote&#34; href=&#34;#fn:2&#34;&gt;2&lt;/a&gt;&lt;/sup&gt;&lt;sup class=&#34;footnote-ref&#34; id=&#34;fnref:3&#34;&gt;&lt;a rel=&#34;footnote&#34; href=&#34;#fn:3&#34;&gt;3&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;

&lt;p&gt;7.head内的navigation用什么html tag?&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;&lt;code&gt;ul.class li&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;8.此时ul能否用id？&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;id用在layout上，class用在具体元素上。如&lt;code&gt;#head ui.nav li&lt;/code&gt;&lt;sup class=&#34;footnote-ref&#34; id=&#34;fnref:3&#34;&gt;&lt;a rel=&#34;footnote&#34; href=&#34;#fn:3&#34;&gt;4&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;9.box-sizing有哪些属性？&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;&lt;code&gt;content-box; border-box&lt;/code&gt;，他们的区别在与padding算在box-model内还是外&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;img src=&#34;~/23-48-19.jpg&#34; alt=&#34;&#34; /&gt;
border-box常见于button：&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;.lia-button {
box-sizing: border-box;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&#34;footnotes&#34;&gt;

&lt;hr /&gt;

&lt;ol&gt;
&lt;li id=&#34;fn:1&#34;&gt;&lt;code&gt;break-word&lt;/code&gt;由于浏览器兼容性问题不推荐使用。
 &lt;a class=&#34;footnote-return&#34; href=&#34;#fnref:1&#34;&gt;&lt;sup&gt;[return]&lt;/sup&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li id=&#34;fn:2&#34;&gt;html,css中字符串都用双引号; js中应用单引号。
 &lt;a class=&#34;footnote-return&#34; href=&#34;#fnref:2&#34;&gt;&lt;sup&gt;[return]&lt;/sup&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li id=&#34;fn:3&#34;&gt;html要写semantic html，css要写semantic css
 &lt;a class=&#34;footnote-return&#34; href=&#34;#fnref:3&#34;&gt;&lt;sup&gt;[return]&lt;/sup&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li id=&#34;fn:3&#34;&gt;html要写semantic html，css要写semantic css
 &lt;a class=&#34;footnote-return&#34; href=&#34;#fnref:3&#34;&gt;&lt;sup&gt;[return]&lt;/sup&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>Lithium CSS Guide</title>
      <link>https://netcookies.github.io/b/works/2015-03-03/</link>
      <pubDate>Tue, 03 Mar 2015 23:18:00 +0800</pubDate>
      
      <guid>https://netcookies.github.io/b/works/2015-03-03/</guid>
      <description>&lt;p&gt;#Page&lt;/p&gt;

&lt;p&gt;usage: &lt;code&gt;#lia-body .CommunityPage .lia-body&lt;/code&gt;
&lt;code&gt;#lia-body .lia-page&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;a) CommunityPage
b) ForumPage
c) BlogPage
d) TkbPage
e) IdeaPage&lt;/p&gt;

&lt;p&gt;usage: &lt;code&gt;.min-width .lia-content&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;#List
1.table&lt;/p&gt;

&lt;p&gt;a) lia-list-wide
&amp;gt;3col with header&lt;/p&gt;

&lt;p&gt;b) lia-list-slim
&amp;gt;2col without header&lt;/p&gt;

&lt;p&gt;c) lia-list-standard, lia-list-standard-inline
&amp;gt;simple list&lt;/p&gt;

&lt;p&gt;d) lia-list-statistics
&amp;gt;2col for statistics&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;~/23-35-39.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;2.grid&lt;/p&gt;

&lt;p&gt;usage: &lt;code&gt;#lia-body .lia-content table.lia-list-wide td&lt;/code&gt;
&amp;gt;table td global&lt;/p&gt;

&lt;p&gt;a) lia-date-cell-primary
&amp;gt;normally use with &lt;code&gt;lia-date-cell-text&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;b) lia-date-cell-secondary
&amp;gt;normally use with &lt;code&gt;lia-date-cell-date lia-date-cell-ineger&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;c) lia-date-cell-tertiary
&amp;gt;normally use with &lt;code&gt;lia-date-cell-icon lia-date-cell-checkbox&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;~/23-36-08.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;#button&lt;/p&gt;

&lt;p&gt;a) lia-button
&amp;gt;main button class&lt;/p&gt;

&lt;p&gt;b) lia-button-group
&amp;gt;group button&lt;/p&gt;

&lt;p&gt;c) lia-button-primary lia-button-secondary
&amp;gt;use with most important / normal important&lt;/p&gt;

&lt;p&gt;d) lia-button-interstitial-primary lia-button-interstitial-secondary
&amp;gt;less important action with primary / secondary colors&lt;/p&gt;

&lt;p&gt;e) lia-button-Submit-action lia-button-Cancel-action lia-Preview-action lia-button-Reset
&amp;gt;detail&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;~/22-04-36.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;#Feedback
ignore&lt;/p&gt;

&lt;p&gt;#Effect&lt;/p&gt;

&lt;p&gt;a) lia-effect-highlight&lt;/p&gt;

&lt;p&gt;#Labels
a) lia-label
&amp;gt;usually a &lt;code&gt;lia-list-standard-inline&lt;/code&gt; before a list&lt;/p&gt;

&lt;p&gt;b) lia-label-tabs-sort
&amp;gt;before a &lt;code&gt;lia-tabs-sort&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;~/22-17-54.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;#Tooltip
a) lia-panel-tooltip
&amp;gt;just tooltip&lt;/p&gt;

&lt;p&gt;#Tabs
a) lia-tabs-standard-wrapper
&amp;gt;main class of tabs&lt;/p&gt;

&lt;p&gt;b) lia-tabs-standard
&amp;gt;common class of tabs&lt;/p&gt;

&lt;p&gt;c) lia-tabs-secondary
&amp;gt;sub-tabs on current tab&lt;/p&gt;

&lt;p&gt;d) lia-tabs-active lia-tabs-inactive lia-tabs-sort
&amp;gt;detail&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;~/22-25-30.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;#Page/Pagination
a) lia-paging-full-wrapper
&amp;gt;wrapper of Pagination&lt;/p&gt;

&lt;p&gt;b) lia-paging-full lia-paging-full-left
&amp;gt;display pagination on right side / left side&lt;/p&gt;

&lt;p&gt;c) lia-paging-full-pages lia-paging-page-previous lia-paging-page-next lia-paging-page-ellipses
&amp;gt; page number / previous page / next page / ellipses&lt;/p&gt;

&lt;p&gt;d) lia-paging-page-active lia-paging-page-first lia-paging-page-last
&amp;gt;page active / first page number / last page number&lt;/p&gt;

&lt;p&gt;e) lia-paging-page-link lia-paging-page-arrow
&amp;gt; within &lt;code&gt;lia-paging-page-previous lia-paging-page-next&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;~/22-38-38.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;#Menu
a) lia-menu-action
&amp;gt;main class of menu&lt;/p&gt;

&lt;p&gt;b) lia-menu-bar lia-menu-bar-top lia-menu-bar-bottom
&amp;gt;a combination of buttons,menus,paging component / &lt;code&gt;if has top / bottom bar&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;~/22-51-45.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;c) lia-menu-navigation lia-menu-dropdown-items
&amp;gt;dropdown menu / dropdown menu items&lt;/p&gt;

&lt;p&gt;d) lia-menu-bar-buttons
&amp;gt; the buttons in menu bar&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;~/22-52-47.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;e) lia-decoration-border-menu-bar lia-decoration-border-menu-bar-top lia-decoration-border-menu-bar-bottom lia-decoration-border-menu-bar-cotent
&amp;gt;provide additional border class&lt;/p&gt;

&lt;p&gt;#Autocomplete&lt;/p&gt;

&lt;p&gt;a) lia-autocomplete
&amp;gt;suggestions&lt;/p&gt;

&lt;p&gt;b) lia-autocomplete-loader
&amp;gt;loading image for autocomplete functions&lt;code&gt;img&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;#Control/Link&lt;/p&gt;

&lt;p&gt;a) lia-link-navigation
&amp;gt;all link&lt;/p&gt;

&lt;p&gt;b) lia-view-filter lia-view-filter-ascending lia-view-filter-descending
&amp;gt; sorting or filter&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;~/23-05-59.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;d) lia-menu-item lia-view-all lia-link-disabled
&amp;gt;menu item / view all / disabled&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;~/23-06-35.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;#Form&lt;/p&gt;

&lt;p&gt;a) lia-form lia-form-tags lia-form-horizontal lia-form-vertical lia-form-inline
&amp;gt;applied to all &lt;code&gt;&amp;lt;form&amp;gt;&lt;/code&gt;/ horizontal /vertical /inline&lt;/p&gt;

&lt;p&gt;b) lia-form-submit lia-form-footer
&amp;gt;form action buttons / usually action buttons in&lt;/p&gt;

&lt;p&gt;c) lia-form-row lia-form-row-reverse-label-input
&amp;gt;row / row that label on the right&lt;/p&gt;

&lt;p&gt;d) lia-form-label-wrapper lia-form-label lia-form-label-required lia-label-required-mark
&amp;gt;form label wrapper / form label / form label required / marker required label&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;~/23-36-29.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;e) lia-form-input-wrapper lia-form-type-text lia-form-type-password lia-form-type-file
&amp;gt;input wrapper / text input / password input / file input&lt;/p&gt;

&lt;p&gt;f) lia-form-radio-group lia-form-fieldset-last
&amp;gt;radio button in field / last fieldset&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;~/23-37-10.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;g) lia-form-field-error lia-form-error-text lia-form-validation-help-text
&amp;gt;style input error / error text below input field / help text below input field&lt;/p&gt;

&lt;p&gt;#Panel&lt;/p&gt;

&lt;p&gt;a) lia-panel
&amp;gt;basic panel&lt;/p&gt;

&lt;p&gt;b) lia-decoration-border lia-decoration-border-top lia-decoration-content lia-decoration-bottom
&amp;gt;decoration border&lt;/p&gt;

&lt;p&gt;c) lia-panel-heading-bar lia-panel-heading-bar-wrapper lia-panel-heading-bar-title
&amp;gt;title of panel / wrapper of heading bar / title text&lt;/p&gt;

&lt;p&gt;d) lia-panel-content lia-panel-content-wrapper
&amp;gt;content of the panel / wrapper of content&lt;/p&gt;

&lt;p&gt;e) lia-panel-standard lia-panel-section
&amp;gt;default panel class / separate panel section&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;~/22-31-55.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;#Message&lt;/p&gt;

&lt;p&gt;a) lia-panel-message
&amp;gt;common class of message&lt;/p&gt;

&lt;p&gt;b) lia-message-board lia-message-blog lia-message-idea
&amp;gt;forum / blog / idea&lt;/p&gt;

&lt;p&gt;c) lia-panel-message-root lia-panel-message-content lia-panel-message-first
&amp;gt;root message of a thread / message content / first message of multi-page thread&lt;/p&gt;

&lt;p&gt;d) lia-mesage-actions lia-message-actions-secondary
&amp;gt;primary action on message / secondary action on message&lt;/p&gt;

&lt;p&gt;e) lia-message-body lia-message-body-content
&amp;gt;message body / messge body content&lt;/p&gt;

&lt;p&gt;f) lia-message-author lia-message-heading lia-message-footer lia-message-editor
&amp;gt;author / heading / footer / editor&lt;/p&gt;

&lt;p&gt;g) lia-message-labels lia-message-moderation lia-message-notify lia-message-options lia-message-dates
&amp;gt;labels / Change Status / for moderator link / option menu / posting date&lt;/p&gt;

&lt;p&gt;h) lia-message-read lia-message-unread lia-message-subject lia-message-subject-status lia-message-tags lia-message-statistics
&amp;gt; read idea /  unread idea / message subject / subject status(idea) / tags in footer / statistics in footer&lt;/p&gt;

&lt;p&gt;i) lia-panel-intermission lia-message-posted-on lila-message-edited-on
&amp;gt;blank between &lt;code&gt;lia-panel-message&lt;/code&gt; / posting information / edit information&lt;/p&gt;

&lt;p&gt;j) lia-message-view-style-collapsed lia-message-view-style-expanded
&amp;gt;(idea only) collapsed view / expanded view&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;~/23-07-54.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;~/23-08-21.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;#Kudos&lt;/p&gt;

&lt;p&gt;a) lia-button-image-kudos-wrapper lia-button-image-kudos
&amp;gt;wrapper of kudos / kudos itself&lt;/p&gt;

&lt;p&gt;b) lia-button-image-kudos-enabled lia-button-image-kudos-disabled lia-button-image-kudos-frozen lia-button-image-kudos-count lia-button-image-kudos-give
&amp;gt;kudos enabled / disabled / frozen / count kudos / click to give kudos&lt;/p&gt;

&lt;p&gt;c) lia-button-image-kudos-kudoed lia-button-image-kudos-not-kudoed lia-button-image-kudos-has-kudos
&amp;gt;kudoed / not kudoed / has others kudos&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;~/23-16-14.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;#User/Avatar
a) lia-user-info-group
&amp;gt; top-level class of user info group&lt;/p&gt;

&lt;p&gt;b)lia-user-avatar lia-user-attributes lia-user-name lia-user-rank lia-user-leaderboard-rank
&amp;gt;user avatar / attributes(user-name rank leaderboard-rank&lt;/p&gt;

&lt;p&gt;c) lia-user-kudos-weight lia-user-kudos-count
&amp;gt;kudos weight on leaderboards / kudos count on leaderboards&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;~/23-24-44.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;~/23-25-10.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>PowerDisgner数据建模时生成oracle脚本需要的配置</title>
      <link>https://netcookies.github.io/b/works/2014-10-09/</link>
      <pubDate>Thu, 09 Oct 2014 16:38:00 +0800</pubDate>
      
      <guid>https://netcookies.github.io/b/works/2014-10-09/</guid>
      <description>&lt;p&gt;用PowerDisgner12为oracle进行数据建模时，生成的脚本默认是以&lt;code&gt;“&lt;/code&gt;区分大小写，生成脚本如下：&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;...
create table &amp;quot;table_name&amp;quot;
...
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;这样执行脚本后，表名实际为&lt;code&gt;&amp;quot;table_name&amp;quot;&lt;/code&gt;而不是&lt;code&gt;table_name&lt;/code&gt;，结果显示不是我们所要的。&lt;/p&gt;

&lt;p&gt;于是需要做如下更改：&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;1. 打开PowerDesiger中
2. physical data model -&amp;gt; Database -&amp;gt; Edit current DBMS
3. Script-&amp;gt;Sql-&amp;gt;Format
4. CaseSensitivityUsingQuote
5. Check Yes
6. Uppercase only
7. Check Yes
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    <item>
      <title>archlinux上架设goagent </title>
      <link>https://netcookies.github.io/b/works/2014-08-29/</link>
      <pubDate>Fri, 29 Aug 2014 12:40:00 +0800</pubDate>
      
      <guid>https://netcookies.github.io/b/works/2014-08-29/</guid>
      <description>&lt;ul&gt;
&lt;li&gt;安装准备
需要安装的包&lt;/li&gt;
&lt;/ul&gt;

&lt;pre&gt;&lt;code&gt;pacman -S wget 
pacman -S  python2-crypto python2-pyopenssl  python2-gevent python2-greenlet nss
&lt;/code&gt;&lt;/pre&gt;

&lt;ul&gt;
&lt;li&gt;获取安装包&lt;/li&gt;
&lt;/ul&gt;

&lt;pre&gt;&lt;code&gt;cd ~
wget https://nodeload.github.com/goagent/goagent/legacy.zip/3.0
mv goagent* goagent
&lt;/code&gt;&lt;/pre&gt;

&lt;ul&gt;
&lt;li&gt;goagent配置&lt;/li&gt;
&lt;/ul&gt;

&lt;pre&gt;&lt;code&gt;cd ~/goagent/local
cat &amp;gt; proxy.user.ini &amp;lt;&amp;lt; EOF
[listen]
ip = 0.0.0.0
username = *proxy*
password = *goagent*
visible = 0

[gae]
appid = &amp;lt;goagent&amp;gt;
password = &amp;lt;password&amp;gt;
window = 6
keepalive = 1
obfuscate = 1

[pac]
enable = 0

[iplist]
google_cn = &amp;lt;iplist&amp;gt;
google_hk = &amp;lt;iplist&amp;gt;
EOF
&lt;/code&gt;&lt;/pre&gt;

&lt;ul&gt;
&lt;li&gt;配置nss(libnss3-tool)&lt;/li&gt;
&lt;/ul&gt;

&lt;pre&gt;&lt;code&gt;mkdir -p ~/.pki/nssdb
chmod 700 ~/.pki/nssdb
certutil -d ~/.pki/nssdb -N --empty-passwod
certutil -d sql:$HOME/.pki/nssdb -A -t &amp;quot;C,,&amp;quot; -n GoAgent -i ~/programs/goagent/local/CA.crt
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;按提示设置nssdb的密码。
手工运行&lt;code&gt;python2 proxy.py&lt;/code&gt;, 并输入上面设置的nssdb的密码&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;建立daemon开机自启&lt;/li&gt;
&lt;/ul&gt;

&lt;pre&gt;&lt;code&gt;ln -s /bin/python2.7 /bin/python
cat &amp;gt; /lib/systemd/system/goagent.service &amp;lt;&amp;lt;EOF
[Unit]
Description=Goagent Proxy
After=syslog.target network.target

[Service]
User=root
Group=root
Type=oneshot
RemainAfterExit=yes
ExecStart=/bin/bash /root/goagent/local/proxy.sh start
ExecStop=/bin/bash /root/goagent/local/proxy.sh stop

[Install]
WantedBy=multi-user.target
EOF

ln -s /lib/systemd/system/goagent.service /etc/systemd/system/goagent.service
systemctl daemon-reload
systemctl enable goagent.service
systemctl start goagent.service
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;查看日志命令&lt;code&gt;journalctl -u goagent&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;补充说明：&lt;/em&gt;
遇到问题&lt;code&gt;error[24]: too many open files&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;问题是由于ulimit和/etc/security/limits.conf中的设置造成的
出于对资源以及安全的考虑，我们不修改这两个配置，而采用重启的方法解决。当然此处也列出这两个配置的修改方法：&lt;strong&gt;不建议采用&lt;/strong&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;ulimit -a #查看配置
ulimit -u 65536
ulimit -n 65536

在limits.conf末尾加上
*soft nofile 65536
*hard nofile 65536
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;我们采用定时重启的方法，配置如下：&lt;/p&gt;

&lt;p&gt;写个重启&lt;code&gt;goagent.service&lt;/code&gt;的脚本&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;cat &amp;gt; /root/goagent_restart.sh &amp;lt;&amp;lt;EOF
#!bin/sh
#restart goagent.
systemctl restart goagent.service
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;新建个service和timer用来定时执行上面的脚本&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;cat &amp;gt; /lib/systemd/system/goagent_restart.service &amp;lt;&amp;lt;EOF
[Unit]
Description=Goagent Proxy

[Service]
User=root
Group=root
Type=simple
ExecStart=/bin/sh /root/goagent_restart.sh

[Install]
WantedBy=multi-user.target
EOF

cat &amp;gt; /lib/systemd/system/goagent_restart.timer &amp;lt;&amp;lt;EOF
[Unit]
Description=restart goagent every 12h

[Timer]
# Time to wait after booting before we run first time
OnBootSec=10min
# Time between running each consecutive time
OnUnitActiveSec=12h
Unit=goagent_restart.service

[Install]
WantedBy=multi-user.target
EOF

ln -s /lib/systemd/system/goagent_restart.* /etc/systemd/system/
systemctl daemon-reload
systemctl enable goagent_restart.*
systemctl start goagent_restart.*
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    <item>
      <title>通过SSH安装oracle </title>
      <link>https://netcookies.github.io/b/works/2014-08-27-1/</link>
      <pubDate>Wed, 27 Aug 2014 16:35:00 +0800</pubDate>
      
      <guid>https://netcookies.github.io/b/works/2014-08-27-1/</guid>
      <description>&lt;p&gt;上一篇说到安装ArchLinux后，现在需安装Oracle&lt;/p&gt;

&lt;p&gt;安装之前&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;cd ~
pacman -S vim ssh abs unzip wget xorg-xhost
wget https://aur.archlinux.org/packages/au/aura-bin/aura-bin.tar.gz
tar -xzf aura-bin.tar.gz
cd aura-bin
makepkg
pacman -U aura-bin-x.x.x.x-x-x86_64.pkg.tar.xz
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;下载oracle有两种方法&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;-1. 一种登录oracle网站下载好保存在本地，再通过sftp等方法传至服务器
2. 用chrome导出登录后的cookie，并用wget直接通过服务器端下载，插件下载：[地址](https://chrome.google.com/webstore/detail/cookietxt-export/lopabhfecdfhgogdbojmaicoicjekelh)

wget --load-cookies cookie_txt_file  http://download.oracle.com/otn/linux/oracle11g/R2/linux.x64_11gR2_database_1of2.zip 
http://download.oracle.com/otn/linux/oracle11g/R2/linux.x64_11gR2_database_2of2.zip
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;解压安装包&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;find . -name &#39;*of2.zip&#39; -exec unzip {} \;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;oracle required packages&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;pacman -S sudo icu gawk gdb elfutils sysstat libstdc++5 jre7-openjdk libaio
aura -Akua beecrypt rpm-org
aura -A ksh
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;添加用户，与用户组&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;groupadd oinstall
groupadd dba
groupadd oper
groupadd asmadmin

useradd -g oinstall -G dba,oper,asmadmin oracle -b /oracle
passwd oracle
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;处理sysctl, limits.conf&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;cat &amp;gt; /etc/sysctl.d/99-sysctl.conf &amp;lt;&amp;lt; EOF
fs.suid_dumpable = 1
fs.aio-max-nr = 1048576
fs.file-max = 6815744
kernel.shmall = 2097152
kernel.shmmax = 536870912
kernel.shmmni = 4096
# semaphores: semmsl, semmns, semopm, semmni
kernel.sem = 250 32000 100 128
net.ipv4.ip_local_port_range = 9000 65500
net.core.rmem_default=262144
net.core.rmem_max=4194304
net.core.wmem_default=262144
net.core.wmem_max=1048586
EOF
vim /etc/security/limits.conf
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code&gt;oracle              soft    nproc   2047
oracle              hard    nproc   16384
oracle              soft    nofile  4096
oracle              hard    nofile  65536
oracle              soft    stack   10240
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;建立安装目录并设立权限&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;mkdir -p /oracle/inventory /oracle/recovery /oracle/product/db /oracle/tmp
chown -R oracle:dba /oracle
chmod 777 /oracle/tmp
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;编辑oracle用户的.bashrc&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;#Oracle Settings
export TMP=/tmp
export TMPDIR=/tmp
export ORACLE_HOSTNAME=oracledb.localdomain
export ORACLE_UNQNAME=xdb
export ORACLE_BASE=/oracle
export ORACLE_HOME=/oracle/product/db
export ORACLE_SID=xdb
export ORACLE_INVENTORY=/oracle/inventory
export ORACLE_BASE ORACLE_SID ORACLE_HOME
export PATH=$ORACLE_HOME/bin:$PATH
export LD_LIBRARY_PATH=$ORACLE_HOME/lib:$LD_LIBRARY_PATH
export CLASSPATH=$ORACLE_HOME/jlib:$ORACLE_HOME/rdbms/jlib
export EDITOR=vim
export VISUAL=vim
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;开始安装,&lt;code&gt;&amp;lt;machine-name&amp;gt;&lt;/code&gt;可以留空，这样就指定即在服务器本机打开X视窗安装&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;DISPLAY=&amp;lt;machine-name&amp;gt;:0.0; export DISPLAY
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;如果为通过SSH远程安装oracle，则可通过ssh的x11 forwarding功能，通过本地的X server来开启安装窗口，这里博主用的是&lt;a href=&#34;http://sourceforge.net/projects/xming/&#34;&gt;Xming&lt;/a&gt;。
Xming的安装包有自带putty,如果已经有putty了可以不安装。
putty需要进行如下配置，开启x11 forwarding&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Session
    Host Name 填入无端IP
    Saved Sessions 填入要保存的名称
Connection
    SSH
        X11
            Enable X11 forwarding 开启
            X display location 填入 localhost:0.0 或 127.0.0.1:0.0
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;运行Xming中的XLaunch将No Access Control勾上
最后将代码中的ip地址替换成运行有Xming的主机IP，并运行&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;使用oracle用户通过ssh连接至服务器
DISPLAY=&amp;lt;Local IP addr&amp;gt;:0.0; export DISPLAY;xhost +
cd /安装包路径
./runInstaller
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;图形化的安装界面略过~~
安装后，让数据库自启
新建启动和关闭的脚本&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;mkdir -p ~/scripts
chown oracle.oinstall ~/scripts
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;~/scripts/startup.sh&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;#!/bin/bash

#Oracle Settings
export TMP=/oracle/tmp
export TMPDIR=/oracle/tmp
export ORACLE_HOSTNAME=oracledb.localdomain
export ORACLE_UNQNAME=xdb
export ORACLE_SID=xdb
export PATH=$ORACLE_HOME/bin:$PATH

ORAENV_ASK=NO
. oraenv
ORAENV_ASK=YES

# Start Listener
lsnrctl start

# Start Database
sqlplus / as sysdba &amp;lt;&amp;lt; EOF
STARTUP;
EXIT;
EOF
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;~/scripts/shutdown.sh&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;#!/bin/bash

#Oracle Settings
export TMP=/oracle/tmp
export TMPDIR=/oracle/tmp
export ORACLE_HOSTNAME=oracledb.localdomain
export ORACLE_UNQNAME=xdb
export ORACLE_SID=xdb
export PATH=$ORACLE_HOME/bin:$PATH

ORAENV_ASK=NO
. oraenv
ORAENV_ASK=YES

# Stop Database
sqlplus / as sysdba &amp;lt;&amp;lt; EOF
SHUTDOWN IMMEDIATE;
EXIT;
EOF

# Stop Listener
lsnrctl stop
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;脚本权限&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;chmod u+x /oracle/scripts/s*.sh
chown oracle.oinstall /oracle/scripts/s*.sh
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;建立服务 &lt;code&gt;/lib/systemd/system/dbora.service&lt;/code&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;[Unit]
Description=The Oracle Database Service
After=syslog.target network.target

[Service]
Type=simple
ExecStart=/bin/su oracle -c &amp;quot;/oracle/scripts/startup.sh &amp;gt;&amp;gt; /oracle/scripts/startup_shutdown.log 2&amp;gt;&amp;amp;1&amp;quot; &amp;amp;
ExecStop=/bin/su oracle -c &amp;quot;/oracle/scripts/shutdown.sh &amp;gt;&amp;gt; /oracle/scripts/startup_shutdown.log 2&amp;gt;&amp;amp;1&amp;quot;

[Install]
WantedBy=multi-user.target
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code&gt;ln -s /lib/systemd/system/dbora.service /etc/systemd/system/dbora.service
systemctl daemon-reload
systemctl enable dbora.service
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;查看服务状态&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;systemctl status dbora.service
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;enjoy~!&lt;/p&gt;

&lt;p&gt;quote from &lt;a href=&#34;https://wiki.archlinux.org/index.php/Oracle&#34;&gt;wiki.archlinux.org&lt;/a&gt; &lt;a href=&#34;http://www.oracle-base.com/articles/11g/oracle-db-11gr2-installation-on-oracle-linux-5.php#manual_setup&#34;&gt;oracle-base&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>ArchLinux 安装与配置</title>
      <link>https://netcookies.github.io/b/works/2014-08-27/</link>
      <pubDate>Wed, 27 Aug 2014 13:05:00 +0800</pubDate>
      
      <guid>https://netcookies.github.io/b/works/2014-08-27/</guid>
      <description>&lt;p&gt;检查需要配置网络的接口名(interface)&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;ip link
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;输出如下：&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;1: lo: &amp;lt;LOOPBACK,UP,LOWER_UP&amp;gt; mtu 65536 qdisc noqueue state UNKNOWN mode DEFAULT
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
2: enp2s0f0: &amp;lt;BROADCAST,MULTICAST&amp;gt; mtu 1500 qdisc noop state DOWN mode DEFAULT qlen 1000
    link/ether 00:11:25:31:69:20 brd ff:ff:ff:ff:ff:ff
3: wlp3s0: &amp;lt;BROADCAST,MULTICAST,UP,LOWER_UP&amp;gt; mtu 1500 qdisc mq state UP mode DORMANT qlen 1000
    link/ether 01:02:03:04:05:06 brd ff:ff:ff:ff:ff:ff
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;配置有线网络，如果为dhcp自动分配或无线网络的这里略过&lt;a href=&#34;https://wiki.archlinux.org/index.php/Beginners%27_guide#Wireless_2&#34;&gt;详细&lt;/a&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;ip addr add 192.168.0.100/24 dev enp2s0f0
ip route add default via 192.168.0.1
vi /etc/resolv.conf
#填入dns
nameserver 114.114.114.114
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;用fdisk分区，分出一个swap及一个ext3/ext4分区&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;fdisk /dev/sda
o   #创建一个新的分区表
n   #创建新分区
p   #主分区
2   #分区2，用作swap，大小与内存相等及可
enter #这里默认即可
+1G #大小1G
n   #创建新分区
p   #主分区
1   #分区1，用作系统区
enter #这里默认即可
enter #默认剩余的所有空间
w   #写入分区表
mkfs.ext3 /dev/sda1     #格式化分区
mkswap /dev/sda2
swapon /dev/sda2
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;挂载分区，更改源&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;mount /dev/sda1 /mnt
vi /etc/pacman.d/mirrorlist
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;国内源如下：&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;##
## Arch Linux repository mirrorlist
## Generated on 2014-08-26
##

## China
#Server = http://mirrors.163.com/archlinux/$repo/os/$arch
#Server = http://mirror.bjtu.edu.cn/archlinux/$repo/os/$arch
#Server = http://mirrors.hust.edu.cn/archlinux/$repo/os/$arch
#Server = http://mirrors.hustunique.com/archlinux/$repo/os/$arch
#Server = http://mirrors.neusoft.edu.cn/archlinux/$repo/os/$arch
#Server = http://run.hit.edu.cn/archlinux/$repo/os/$arch
#Server = http://mirrors.ustc.edu.cn/archlinux/$repo/os/$arch
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;开始安装&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;pacstrap -i /mnt base base-devel
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;生成fstab&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;genfstab -U -p /mnt &amp;gt;&amp;gt; /mnt/etc/fstab
vi /mnt/etc/fstab #确认下看看有没有错误
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;chroot 并配置系统&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;arch-chroot /mnt /bin/bash
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;语言配置&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;vi /etc/locale.gen
#将en_US.UTF-8 UTF-8 前面的#号去掉
...
#en_SG ISO-8859-1
en_US.UTF-8 UTF-8
#en_US ISO-8859-1
...
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code&gt;locale-gen
echo LANG=en_US.UTF-8 &amp;gt; /etc/locale.conf
export LANG=en_US.UTF-8
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;时区&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;ln -s /usr/share/zoneinfo/Asia/Shanghai /etc/localtime
hwclock --systohc --utc
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;加载必要的内核模块&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;vi /etc/modules-load.d/virtio-net.conf 
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;以下模块为qemu 虚拟机必须&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;# Load &#39;virtio-net.ko&#39; at boot. 

virtio-net
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;主机名&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;echo myhostname &amp;gt; /etc/hostname
vi /etc/hosts
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code&gt;#
# /etc/hosts: static lookup table for host names
#

#&amp;lt;ip-address&amp;gt;	&amp;lt;hostname.domain.org&amp;gt;	&amp;lt;hostname&amp;gt;
127.0.0.1	localhost.localdomain	localhost	myhostname
::1		localhost.localdomain	localhost

# End of file
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;网络配置&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;systemctl stop dhcpcd.service
systemctl disable dhcpcd.service
cd /etc/netctl
cp examples/ethernet-static my_network
netctl enable my_network
vi my_network  #将其中的接口 地址 网关 dns 等修改成对应的值
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Create an initial ramdisk environment&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;vi /etc/mkinitcpio.conf
...
MODULES=&amp;quot;virtio virtio_blk virtio_pci virtio_net&amp;quot;
...
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code&gt;mkinitcpio -p linux
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;设定root密码&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;passwd
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;安装bootloader&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;pacman -S syslinux
syslinux-install_update -iam
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;编辑/boot/syslinux/syslinux.cfg， 将其中的/dev/sda3 改成你实际的root分区&lt;/p&gt;

&lt;p&gt;重启, 进行最后配置，安装些常用的软件&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;systemctl disable dhcpcd.service
pacman -S vim openssh
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;done! enjoy~&lt;/p&gt;

&lt;p&gt;&lt;em&gt;quote from &lt;a href=&#34;https://wiki.archlinux.org/index.php/Beginners%27_guide#Wired&#34;&gt;ArchLinux&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Oracle免安装客户端 </title>
      <link>https://netcookies.github.io/b/works/2014-07-28/</link>
      <pubDate>Mon, 28 Jul 2014 11:48:00 +0800</pubDate>
      
      <guid>https://netcookies.github.io/b/works/2014-07-28/</guid>
      <description>&lt;ol&gt;
&lt;li&gt;从已经安装过oracle的server或client 拷贝如下文件&lt;/li&gt;
&lt;/ol&gt;

&lt;pre&gt;&lt;code&gt;classes12.jar
oci.dll
ocijdbc10.dll
ociw32.dll
ojdbc14.jar
orannzsbb10.dll
oraocci10.dll
oraociei10.dll
sqlnet.ora
tnsnames.ora
&lt;/code&gt;&lt;/pre&gt;

&lt;ol&gt;
&lt;li&gt;配置环境变量&lt;/li&gt;
&lt;/ol&gt;

&lt;pre&gt;&lt;code&gt;Path = D:\oraclient;
TNS_ADMIN = D:\oraclient;
NLS_LANG = SIMPLIFIED CHINESE_CHINA.ZHS16GBK
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;提供个下载连接&lt;a href=&#34;http://pan.baidu.com/s/1o69cMYA&#34;&gt;10.2.0.1_32bit&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>dualwan一线多拨</title>
      <link>https://netcookies.github.io/b/works/2014-07-06/</link>
      <pubDate>Sun, 06 Jul 2014 21:19:00 +0800</pubDate>
      
      <guid>https://netcookies.github.io/b/works/2014-07-06/</guid>
      <description>&lt;p&gt;1.telnet 至路由器并运行命令显示vlan配置&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;# nvram show | grep vlan
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;显示结果如下&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;vlan0ports=2 1 0 5*
vlan1ports=4 5
vlan2ports=3 5
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;2.运行以下命令，将lan2与lan1加入同一个vlan&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;nvram set vlan0ports=1 0 5*
nvram set vlan2ports=3 2 5*
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;3.用网线桥接wan与lan1(lan2)， isp的接入线插入lan2（lan1)
4.以下脚本用来在路由初始化时自动双（多）拨&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;#!/bin/sh
GET_PPP_GATEWAY() {
        iface=$1
        echo &amp;quot;iface=&amp;quot;$iface
        PPP_IP=$(ifconfig $iface|grep &amp;quot;inet addr&amp;quot;|awk -F &amp;quot;:&amp;quot; &#39;{print $2}&#39;|awk -F &amp;quot; &amp;quot; &#39;{print $1}&#39;)
        PPP_GATEWAY=$PPP_IP
}

#30秒后开始检测WAN1, WAN2
sleep 30
WAN1_IF=$(nvram get wan_iface)
WAN2_IF=$(nvram get wan2_iface)
WAN1_IP=$(ifconfig $WAN1_IF |grep -c &amp;quot;inet addr:10.3&amp;quot;)
WAN2_IP=$(ifconfig $WAN2_IF |grep -c &amp;quot;inet addr:10.3&amp;quot;)
if [ &amp;quot;$WAN1_IF&amp;quot; == &amp;quot;&amp;quot; ] || [ &amp;quot;$WAN2_IF&amp;quot; == &amp;quot;&amp;quot; ]; then
        echo &amp;quot;2WAN fail&amp;quot;
        kill -SIGHUP 1
else
        GET_PPP_GATEWAY $WAN1_IF
        if [ &amp;quot;$PPP_IP&amp;quot; == &amp;quot;&amp;quot; ]; then
                kill -SIGHUP 1
                exit
        fi
        
        GET_PPP_GATEWAY $WAN2_IF
        if [ &amp;quot;$PPP_IP&amp;quot; == &amp;quot;&amp;quot; ]; then
                kill -SIGHUP 1
                exit
        fi        
        echo &amp;quot;2WAN ok 1&amp;quot;
fi

if [ &amp;quot;$WAN1_IP&amp;quot; == &amp;quot;0&amp;quot; ] &amp;amp;&amp;amp; [ &amp;quot;$WAN2_IP&amp;quot; == &amp;quot;0&amp;quot; ]; then
        echo &amp;quot;2WAN ok 2&amp;quot;
else
        echo &amp;quot;2WAN fail&amp;quot;
        kill -SIGHUP 1
fi
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    <item>
      <title>配置 Samba4 作为 AD域控制器</title>
      <link>https://netcookies.github.io/b/works/2014-06-06/</link>
      <pubDate>Fri, 06 Jun 2014 12:59:00 +0800</pubDate>
      
      <guid>https://netcookies.github.io/b/works/2014-06-06/</guid>
      <description>&lt;p&gt;Enviroment :
    * archlinux
    * samba 4.1.8&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;p&gt;安装需要的包&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;pacman -S dnsutils krb5 ntp openldap samba
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;配置fstab使域可以兼容，unix, osx系统的加入&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;/dev/...          /srv/samba/demo          ext4          user_xattr,acl,barrier=1          1 1
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;使用samba-tool 生成Samba 4的配置文件&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;samba-tool domain provision --use-rfc2307 --interactive --use-xattrs=yes
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;交互式的依次输入，域名、主机名、管理员密码， 其他默认即可&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;hr /&gt;

&lt;ol&gt;
&lt;li&gt;&lt;p&gt;配置服务&lt;/p&gt;

&lt;p&gt;使用下面的命令生成ntpd服务&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;```bash
mv /etc/ntp.conf{,.default}
cat &amp;gt; /etc/ntp.conf &amp;lt;&amp;lt; &amp;quot;EOF&amp;quot;
# Begin /etc/ntp.conf

# Associate to the public NTP pool servers
server 0.pool.ntp.org
server 1.pool.ntp.org
server 2.pool.ntp.org

# Location of drift file
driftfile /var/lib/ntp/ntp.drift

# Location of the log file
logfile /var/log/ntp

# Location of the update directory
ntpsigndsocket /var/lib/samba/ntp_signd/

# Restrictions
restrict default kod nomodify notrap nopeer mssntp
restrict 127.0.0.1
restrict 0.pool.ntp.org mask 255.255.255.255 nomodify notrap nopeer noquery
restrict 1.pool.ntp.org mask 255.255.255.255 nomodify notrap nopeer noquery
restrict 2.pool.ntp.org mask 255.255.255.255 nomodify notrap nopeer noquery

# End /etc/ntp.conf
EOF
install -d /var/lib/samba/ntp_signd
chown root:ntp /var/lib/samba/ntp_signd
chmod 0750 /var/lib/samba/ntp_signd
systemctl enable ntpd.service
systemctl start ntpd
```
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;使用本机ip做为dns&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;cat &amp;gt;&amp;gt; /etc/resolvconf.conf &amp;lt;&amp;lt; &amp;quot;EOF&amp;quot;
search_domains=internal.domain.tld
name_servers=xxx.xxx.xxx.xxx 
EOF
resolvconf -u
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;krb密码策略&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;mv /etc/krb5.conf{,.default}
cp /var/lib/samba/private/krb5.conf /etc
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;启动Samba服务&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;rm -rf /var/lib/samba/ntp_signd
systemctl enable samba.service
systemctl start samba
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;修复ntp可能产生的权限问题&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;chgrp ntp /var/lib/samba/ntp_signd
systemctl restart ntpd
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;启用LDB模块&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;echo &amp;quot;export LDB_MODULES_PATH=\&amp;quot;\${LDB_MODULES_PATH}:/usr/lib/samba/ldb\&amp;quot;&amp;quot; &amp;gt; /etc/profile.d/sambaldb.sh
chmod 0755 /etc/profile.d/sambaldb.sh
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;hr /&gt;

&lt;p&gt;5.测试配置是否成功
    dns&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;    host -t SRV _ldap._tcp.internal.domain.com.
    host -t SRV _kerberos._udp.internal.domain.com.
    host -t A server.internal.domain.com.
返回如果如下表示成功：

    _ldap._tcp.internal.domain.com has SRV record 0 100 389 server.internal.domain.com.
    _kerberos._udp.internal.domain.com has SRV record 0 100 88      server.internal.domain.com.
    server.internal.domain.com has address xxx.xxx.xxx.xxx
NT登录验证

    smbclient //localhost/netlogon -U Administrator -c &#39;ls&#39;
Kerberos

    kinit administrator@INTERNAL.DOMAIN.COM //注意此处大写
回显如下：

    Warning: Your password will expire in 41 days on Wed 08 Jan 2014 11:59:11 PM CST
确认是否得到验证的ticket:

    klist
回显如下：

    Ticket cache: FILE:/tmp/krb5cc_0
    Default principal: administrator@INTERNAL.DOMAIN.COM

    Valid starting       Expires              Service principal
    11/28/2013 00:22:17  11/28/2013 10:22:17        krbtgt/INTERNAL.DOMAIN.COM@INTERNAL.DOMAIN.COM
        renew until 11/29/2013 00:22:14
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;最后使用smbclient测试ticket有效情况：&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;    smbclient //server/netlogon -k -c &#39;ls&#39;
&lt;/code&gt;&lt;/pre&gt;

&lt;hr /&gt;

&lt;p&gt;_quoted from &lt;a href=&#34;https://wiki.archlinux.org/index.php/Samba_4_Active_Directory_Domain_Controller&#34;&gt;Samba 4 Active Directory Domain Controller&lt;/a&gt;_&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>架设kvm虚拟化服务器 </title>
      <link>https://netcookies.github.io/b/works/2014-05-29/</link>
      <pubDate>Thu, 29 May 2014 17:07:00 +0800</pubDate>
      
      <guid>https://netcookies.github.io/b/works/2014-05-29/</guid>
      <description>

&lt;p&gt;软硬件环境：
*   ubuntu-14.04-server-amd64.iso
*   ibm x3550 m3&lt;/p&gt;

&lt;p&gt;工具：
*   ultra-iso
*   u盘（用来制作启动盘）
*   putty
*   TightVNC&lt;/p&gt;

&lt;hr /&gt;

&lt;h3 id=&#34;制作启动盘&#34;&gt;制作启动盘&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;1.  通过ultra-iso打开ubuntu-14.04-server-amd64.iso
2.  点击启动 -&amp;gt; 写入硬盘映像，点击格式化 *fat32 快速格式化*  
3.  写入并等待完成
&lt;/code&gt;&lt;/pre&gt;

&lt;hr /&gt;

&lt;p&gt;###安装ubuntu过程
    注意以下三点
        1.  语言有中文但是因为默认没有配置字体，故还是选en_US的比较好
        2.  配置network默认是dhcp，dhcp取得ip后，back至上一步手动分配个静态ip。服务器还是静态比较靠谱&lt;/p&gt;

&lt;h2 id=&#34;3-安装服务的时候-openssh-samba勾上-便于远程管理-ssh虽然能传文件-但感觉不是那么方便哈哈&#34;&gt;3.  安装服务的时候，openssh、samba勾上，便于远程管理，ssh虽然能传文件，但感觉不是那么方便哈哈&lt;/h2&gt;

&lt;p&gt;###kvm
1.  要安装必要的软件包，从终端中输入：&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;    sudo apt-get install qemu-kvm libvirt-bin

在安装了libvirt-bin后，用于管理虚拟机的用户需要被添加到libvirtd组。这样做会赋予这个用户   进入到高级网络选项的权限。

    sudo adduser $USER libvirtd
&lt;/code&gt;&lt;/pre&gt;

&lt;ol&gt;
&lt;li&gt;&lt;p&gt;安装virt-install&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo apt-get install virtinst
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;安装guest&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo virt-install -n web_devel -r 256 \
--disk path=/var/lib/libvirt/images/web_devel.img,bus=virtio,size=4 -c \
ubuntu-14.04-server-i386.iso --network network=default,model=virtio \
--graphics vnc,listen=0.0.0.0 --noautoconsole -v
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;网络配置&lt;/p&gt;

&lt;p&gt;如果按第3步中_network=default_，guest可以访问外网，但不能访问host和其他guest。如果用作服务器的话，显然不行。
故如下配置bridge:
安装bridge相关工具&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;    sudo apt-get install bridge-utils
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;编辑/etc/network/interfaces&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;    auto lo
    iface lo inet loopback

    auto eth0
    iface eth0 inet manual

    auto br0
    iface br0 inet static
            address 192.168.0.10
            network 192.168.0.0
            netmask 255.255.255.0
            broadcast 192.168.0.255
            gateway 192.168.0.1
            bridge_ports eth0
            bridge_stp off
            bridge_fd 0
            bridge_maxwait 0
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;or DHCP:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;    auto lo
    iface lo inet loopback

    auto eth0
    iface eth0 inet manual

    auto br0
    iface br0 inet dhcp
            bridge_ports eth0
            bridge_stp off
            bridge_fd 0
            bridge_maxwait 0
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;重启网络服务：&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;    sudo /etc/init.d/networking restart
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;or&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;    sudo ifup br0
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;通过virsh创建bridge虚拟网络:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;    virsh
    net-create bridge.xml
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;xml内容：&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;    &amp;lt;network&amp;gt;
    &amp;lt;name&amp;gt;host-bridge&amp;lt;/name&amp;gt;
    &amp;lt;forward mode=&amp;quot;bridge&amp;quot;/&amp;gt;
    &amp;lt;bridge name=&amp;quot;br0&amp;quot;/&amp;gt;
    &amp;lt;/network&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;编辑guest配置，将网络由nat模式改为bridge&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;    edit &amp;lt;guest domain&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;将&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;    &amp;lt;interface type=&#39;network&#39;&amp;gt;
    &amp;lt;mac address=&#39;00:11:22:33:44:55&#39;/&amp;gt;
    &amp;lt;source network=&#39;default&#39;/&amp;gt;
    &amp;lt;/interface&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;改为：&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;    &amp;lt;interface type=&#39;bridge&#39;&amp;gt;
    &amp;lt;mac address=&#39;00:11:22:33:44:55&#39;/&amp;gt;
    &amp;lt;source bridge=&#39;br0&#39;/&amp;gt;
    &amp;lt;/interface&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;关闭虚拟机，并重启libvirtd服务:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;    sudo /etc/init.d/libvirtd restart
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;启动虚拟机，检测下是桥接是否运行正常，下图vnet0是guest虚拟网卡，br0是桥接网卡，eth1为物理网卡：&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;    # brctl show
    bridge name     bridge id               STP enabled     interfaces
    br0             8000.e41f13b416f6       no              eth1
                                                            vnet0
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;oem激活&lt;/p&gt;

&lt;p&gt;请参看&lt;a href=&#34;http://blog.lofyer.org/slic-for-qemu-kvm/&#34;&gt;此篇&lt;/a&gt;，这不作详解了&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
</description>
    </item>
    
    <item>
      <title>文件备份自动压缩打包 </title>
      <link>https://netcookies.github.io/b/works/2014-05-23-2/</link>
      <pubDate>Fri, 23 May 2014 21:34:00 +0800</pubDate>
      
      <guid>https://netcookies.github.io/b/works/2014-05-23-2/</guid>
      <description>&lt;pre&gt;&lt;code class=&#34;language-bat&#34;&gt;@echo off   
set a=%date:~0,8%    
rem 给a赋值当前日期的前8位, 我系统系统取得的值为2010/04/21 周三, 前八位即2010/04    
set a=%a:-=%    
rem 去掉a变量中的/,得结果为201004    
&amp;quot;C:\Program Files\WinRAR\RAR.exe&amp;quot; a -df -agYYYYMM iufo *%a%*.bak    
rem 通过rar进行打包    
set a=
&lt;/code&gt;&lt;/pre&gt;

&lt;hr /&gt;

&lt;p&gt;主要有几个要点需要mark下, win下的批处理没有字符串处理函数, 只能用环境变量来代替 rar 命令参数可以参见winrar帮助&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>